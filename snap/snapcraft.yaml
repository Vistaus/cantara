name: cantara
version: '2.2.3'
summary: A Song Presentation Software.
description: |
  A simple, leightweight but powerful program for song presentation in churches, small groups or at karaoke parties.
confinement: devmode
base: core22
grade: stable

architectures:
  - build-on: amd64

parts:
  cantara:
    plugin: nil
    source: .
    source-type: local
    build-packages:
    - fpc
    - lazarus
    - lcl
    - lcl-utils
    - build-essential
    - libqt5pas-dev
    - libqt5pas1
    stage-packages:
    - libqt5pas-dev
    - libqt5pas1
    override-build: |
      lazbuild -B Cantara.lpi --ws=qt5
      cp -r languages $SNAPCRAFT_PART_INSTALL/
      install cantara $SNAPCRAFT_PART_INSTALL/
      install cantara.desktop $SNAPCRAFT_PART_INSTALL/
      install Cantara.ico $SNAPCRAFT_PART_INSTALL/
      install Cantara.png $SNAPCRAFT_PART_INSTALL/
    stage:
    - cantara
    - languages
    - cantara.desktop
    - Cantara.ico
    - Cantara.png

apps:
  cantara:
    command: cantara
    desktop: cantara.desktop
    plugs:
    - home
    - desktop
    - desktop-legacy
    - x11
